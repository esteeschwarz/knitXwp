<style>#knitxwp-2095 pre {  width: 100%;  overflow: scroll;  color:green;}</style><div id="knitxwp-2095"><ul>
<li><a href="#2095-pub-essai-r-to-wp">1 pub essai R to WP</a>
<ul>
<li><a href="#2095-snc">1.1 snc</a></li>
<li><a href="#2095-workaround">1.2 workaround:</a></li>
<li><a href="#2095-persistent-solution">1.3 persistent solution</a></li>
<li><a href="#2095-r-package">1.4 R package</a></li>
<li><a href="#2095-b-references">1.5 B: references</a></li>
</ul>
</li>
</ul>
<h1 id="2095-pub-essai-r-to-wp">1 pub essai R to WP</h1>
<p>publishing using R package <em>duncantl/RWordPress</em> (Lang 2023). wks half: the pandoc citation features and footnotes which are generated by the <em>knit2wp()</em>-function of the <em>knitr</em> package (Yihui 2024) are not correctly converted to the post html.</p>
<h2 id="2095-snc">1.1 snc</h2>
<ol>
<li>knitXwp lib installed on mini.2:post wt lib,apply.css,uniquecss id,chk</li>
</ol>
<h2 id="2095-workaround">1.2 workaround:</h2>
<pre><code class="language-r">library(markdown)
library(rmarkdown)
pid&lt;-0 # set postID of post created with knit2wp() or any existing post
rmd&lt;-&quot;sample.Rmd&quot; # path of the R-Markdown file
wp.knit.post&lt;-function(rmd,pid){
render(rmd) # renders the .Rmd according to the parameters specified in the YAML header of the .Rmd
md.ns&lt;-gsub(&quot;\\.Rmd&quot;,&quot;.md&quot;,rmd)
p.content&lt;-readLines(md.ns)
p.html&lt;-mark(p.content) # renders the created .md file
editPost(pid,content = p.html) # actualises post content
}
</code></pre>
<p>script to create html content of post</p>
<pre><code>---
title: &quot;14022&quot;
author: &quot;xxx&quot;
date: &quot;2024-01-08&quot;
output: 
  md_document:
   variant: markdown_phpextra+backtick_code_blocks
   toc: true
   number_sections: true
   pandoc_args: [&quot;--wrap=none&quot;]
bibliography: sample.bib
---
</code></pre>
<p>yaml-header of the .Rmd rendered</p>
<h2 id="2095-persistent-solution">1.3 persistent solution</h2>
<p>modified the content of the <em>knit2wp()</em> function as to use <em>render()</em> and <em>mark()</em> instead of <em>knit()</em> and <em>markdownToHTML()</em>. now works.</p>
<h2 id="2095-r-package">1.4 R package</h2>
<p>wrote small R package that does the same: <a href="https://github.com/esteeschwarz/knitXwp">https://github.com/esteeschwarz/knitXwp</a></p>
<hr />
<h2 id="2095-b-references" class="unnumbered">1.5 B: references</h2>
<div id="refs" class="references csl-bib-body hanging-indent" markdown="1">
<div id="ref-lang_duncantlrwordpress_2023" class="csl-entry" markdown="1">
<p>Lang, Duncan Temple. 2023. “Duncantl/RWordPress.” <a href="https://github.com/duncantl/RWordPress">https://github.com/duncantl/RWordPress</a>.</p>
</div>
<div id="ref-yihui_knitr_2024" class="csl-entry" markdown="1">
<p>Yihui, Xie. 2024. “Knitr - Yihui Xie 谢益辉.” <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>.</p>
</div>
</div>
</div>
