<style>#knitxwp-2oabjq pre {  width: 100%;  overflow: scroll;  color:green;}</style><div id="knitxwp-2oabjq"><div id="2oabjq-top-1"><style>.backtop a{font-size:24px;text-decoration:none;}</style></div>
<ul>
<li><a href="#2oabjq-pub-essai-r-to-wp">1 pub essai R to WP</a>
<ul>
<li><a href="#2oabjq-snc">1.1 snc</a></li>
<li><a href="#2oabjq-workaround">1.2 workaround</a></li>
<li><a href="#2oabjq-persistent-solution">1.3 persistent solution</a></li>
<li><a href="#2oabjq-r-package">1.4 R package</a></li>
<li><a href="#2oabjq-issues">1.5 issues</a>
<ul>
<li><a href="#2oabjq-section">1.5.1 14045.</a></li>
</ul>
</li>
<li><a href="#2oabjq-versions">1.6 versions</a>
<ul>
<li><a href="#2oabjq-v0.1.5">1.6.1 14037.v0.1.5</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2oabjq-b-references">2 B: references</a></li>
</ul>
<h1 id="2oabjq-pub-essai-r-to-wp">1 pub essai R to WP</h1>
<p>publishing using R package <em>duncantl/RWordPress</em> (Lang 2023) wks half: the pandoc citation features and footnotes which are generated by the <em>knit2wp()</em>-function of the <em>knitr</em> package (Yihui 2024) are not correctly converted to the post html.</p>
<h2 id="2oabjq-snc">1.1 snc <a class="backtop" href="#2oabjq-top-1">⇪</a></h2>
<ol>
<li>knitXwp lib installed on mini.2:post wt lib,apply.css,uniquecss id,chk,toc,img1</li>
<li>OES post essai.</li>
</ol>
<ul>
<li>no article posted, just post(62). &gt; chgd to demo_article in includes/post.php</li>
</ul>
<h2 id="2oabjq-workaround">1.2 workaround <a class="backtop" href="#2oabjq-top-1">⇪</a></h2>
<pre><code class="language-r">library(markdown)
library(rmarkdown)
pid&lt;-0 # set postID of post created with knit2wp() or any existing post
rmd&lt;-&quot;sample.Rmd&quot; # path of the R-Markdown file
wp.knit.post&lt;-function(rmd,pid){
render(rmd) # renders the .Rmd according to the parameters specified in the YAML header of the .Rmd
md.ns&lt;-gsub(&quot;\\.Rmd&quot;,&quot;.md&quot;,rmd)
p.content&lt;-readLines(md.ns)
p.html&lt;-mark(p.content) # renders the created .md file
editPost(pid,content = p.html) # actualises post content
}
</code></pre>
<p>script to create html content of post</p>
<pre><code>---
title: &quot;14022&quot;
author: &quot;xxx&quot;
date: &quot;2024-01-08&quot;
output: 
  md_document:
   variant: markdown_phpextra+backtick_code_blocks
   toc: true
   number_sections: true
   pandoc_args: [&quot;--wrap=none&quot;]
bibliography: sample.bib
---
</code></pre>
<p>yaml-header of the .Rmd rendered</p>
<h2 id="2oabjq-persistent-solution">1.3 persistent solution <a class="backtop" href="#2oabjq-top-1">⇪</a></h2>
<p>modified the content of the <em>knit2wp()</em> function as to use <em>render()</em> and <em>mark()</em> instead of <em>knit()</em> and <em>markdownToHTML()</em>. now works.</p>
<h2 id="2oabjq-r-package">1.4 R package <a class="backtop" href="#2oabjq-top-1">⇪</a></h2>
<p>wrote small R package that does the same: <a href="https://github.com/esteeschwarz/knitXwp">https://github.com/esteeschwarz/knitXwp</a></p>
<h2 id="2oabjq-issues">1.5 issues <a class="backtop" href="#2oabjq-top-1">⇪</a></h2>
<h3 id="2oabjq-section">1.5.1 14045. <a class="backtop" href="#2oabjq-top-1">⇪</a></h3>
<ul>
<li>if there are images in the post: they are uploaded, but not overwritten on the server, if uploaded again in case you actualise the post. that means for every post action a new image on the server is created with a trailing increasing number. this is a wordpress feature to prevent overwrite uploaded files with the same name.</li>
<li>tweaking in the wordpress functions to prevent that, had no success. so i will integrate a function which allows deleting old instances of images if you decide for that.</li>
</ul>
<h4 id="2oabjq-play-along-image-references">1.5.1.1 play along image references <a class="backtop" href="#2oabjq-top-1">⇪</a></h4>
<h2 id="2oabjq-versions">1.6 versions <a class="backtop" href="#2oabjq-top-1">⇪</a></h2>
<h3 id="2oabjq-v0.1.5">1.6.1 14037.v0.1.5 <a class="backtop" href="#2oabjq-top-1">⇪</a></h3>
<ul>
<li>its now possible to apply a stylesheet to the html output of the post container in the blog.</li>
<li>prevent toc entry jumping across different post with possible same toc entries (references, method), added unique id to all section headers and toc entries</li>
<li>add back-to-top button to section headers to jump back to outline from there</li>
</ul>
<hr />
<h1 id="2oabjq-b-references">2 B: references <a class="backtop" href="#2oabjq-top-1">⇪</a></h1>
<div id="refs" class="references csl-bib-body hanging-indent" markdown="1">
<div id="ref-lang_duncantlrwordpress_2023" class="csl-entry" markdown="1">
<p>Lang, Duncan Temple. 2023. “Duncantl/RWordPress.” <a href="https://github.com/duncantl/RWordPress">https://github.com/duncantl/RWordPress</a>.</p>
</div>
<div id="ref-yihui_knitr_2024" class="csl-entry" markdown="1">
<p>Yihui, Xie. 2024. “Knitr - Yihui Xie 谢益辉.” <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>.</p>
</div>
</div>
</div>
